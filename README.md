# figma-plugin-react-template
Figma Plugin template with  React, Webpack and hot reloading

## Quickstart

- Run `yarn`
- Run `yarn preview:plugin` to build the dummy Figma plugin
- In Figma reload the plugin as you normally would, you should see the following:
![image](https://user-images.githubusercontent.com/7476817/117206381-a5ef5000-ada7-11eb-938e-93e59c8bae0a.png)
- In another terminal window run `yarn preview:browser` to launch the websocket server and to open the plugin in your default web browser
- to run the plugin normally, run `yarn build:watch`
![image](https://user-images.githubusercontent.com/7476817/117207805-3bd7aa80-ada9-11eb-8427-a1e32709534c.png)
![image](https://user-images.githubusercontent.com/7476817/117207942-67f32b80-ada9-11eb-8d5f-f7857d81930d.png)

## How it works

Normally your plugin communicates with Figma through passing messages between the Plugin and Figma app:
![image](https://user-images.githubusercontent.com/7476817/117206661-f9619e00-ada7-11eb-8f07-2bea23a2f355.png)

In preview mode you can load the plugin in your browser instead. Events generated by your app and Figma are proxied to a websocket server, and forwarded to any other connected client. This allows for bi-directional communication between your React app in the browser, and to Figma.

![image](https://user-images.githubusercontent.com/7476817/117206636-f36bbd00-ada7-11eb-8f40-12ef474ce92b.png)

With your React app running in the browser, you can leverage hot reloading and React Developer Tools to improve your Figma development experience.

## Troubleshooting
- Make sure you are only runnign one instance of the preview browser and plugin. Otherwise 
- The indicator light on the Preview App will turn red if the connection to the websocket server goes down. It will turn green once it reconnects 
